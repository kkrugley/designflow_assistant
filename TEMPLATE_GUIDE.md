# Руководство по созданию шаблонов PDF

## Обзор

Система шаблонов DesignFlow Assistant позволяет создавать профессиональные PDF-документы для проектов промышленного дизайна. Шаблоны используют HTML/CSS с движком WeasyPrint для генерации PDF.

## Как работают шаблоны

### 1. Технологии
- **Jinja2** - шаблонизатор для вставки динамических данных
- **WeasyPrint** - конвертер HTML в PDF
- **HTML5 + CSS3** - для верстки и стилизации

### 2. Переменные шаблона

В шаблонах доступны следующие переменные:

#### Основные переменные
- `{{ project_name }}` - название проекта
- `{{ project_description }}` - описание проекта (сгенерированное LLM)

#### Переменные изображений
- `{{ images }}` - список путей к изображениям (массив)
- `{% for image_path in images %}` - цикл по изображениям
- `{{ loop.index }}` - номер изображения в цикле

### 3. Структура шаблона

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ project_name }} - Project Card</title>
    <style>
        /* Ваши CSS стили */
    </style>
</head>
<body>
    <h1>{{ project_name }}</h1>
    <p>{{ project_description }}</p>

    {% if images %}
    <div class="images">
        {% for image_path in images %}
        <img src="{{ image_path }}" alt="Image {{ loop.index }}">
        {% endfor %}
    </div>
    {% endif %}
</body>
</html>
```

## Лучшие практики

### 1. Адаптивный дизайн
```css
@media (max-width: 768px) {
    .container { width: 100%; }
}
```

### 2. Печать
```css
@media print {
    .no-print { display: none; }
    body { background: white !important; }
}
```

### 3. Производительность
- Используйте внешние шрифты осторожно
- Оптимизируйте изображения
- Минимизируйте CSS

## Примеры шаблонов

### Простой шаблон
```html
<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .header { background: #f0f0f0; padding: 20px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>{{ project_name }}</h1>
    </div>
    <p>{{ project_description }}</p>
</body>
</html>
```

### Шаблон с изображениями
```html
<!DOCTYPE html>
<html>
<head>
    <style>
        .image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
    <h1>{{ project_name }}</h1>
    <p>{{ project_description }}</p>

    {% if images %}
    <div class="image-grid">
        {% for image_path in images %}
        <img src="{{ image_path }}" alt="Project image">
        {% endfor %}
    </div>
    {% endif %}
</body>
</html>
```

## Добавление шаблона в бота

1. Создайте HTML-файл с шаблоном
2. Опционально создайте отдельный CSS-файл
3. В боте перейдите в "Управление шаблонами"
4. Выберите "Добавить шаблон"
5. Введите уникальное имя
6. Загрузите HTML-файл
7. Загрузите CSS-файл (или пропустите)

## Советы по дизайну

### Цветовая схема
- Используйте профессиональные цвета
- Поддерживайте контрастность
- Добавляйте градиенты для современного вида

### Типографика
- Выбирайте читаемые шрифты
- Используйте иерархию заголовков
- Контролируйте межстрочный интервал

### Изображения
- Используйте высококачественные изображения
- Добавляйте подписи к изображениям
- Создавайте галереи с hover-эффектами

### Анимации и интерактивность
- CSS transitions для hover-эффектов
- Трансформации для интерактивности
- Но помните: PDF статичен!

## Расширенные возможности

### Условная логика
```html
{% if images %}
<div class="gallery">
    <!-- Галерея изображений -->
</div>
{% endif %}
```

### Циклы
```html
{% for image_path in images %}
<div class="image-item">
    <img src="{{ image_path }}">
    <span>Изображение {{ loop.index }}</span>
</div>
{% endfor %}
```

### Фильтры
```html
{{ project_name|upper }}  <!-- Верхний регистр -->
{{ project_name|length }} <!-- Длина строки -->
```

## Отладка шаблонов

1. **Просмотр HTML**: Сохраните промежуточный HTML для проверки
2. **CSS валидация**: Используйте онлайн-валидаторы CSS
3. **Тестирование**: Создавайте тестовые проекты с разными данными
4. **Логи**: Проверяйте логи бота на ошибки генерации

## Примеры использования

- **Портфолио**: Профессиональные презентации проектов
- **Документация**: Техническая документация с изображениями
- **Отчеты**: Структурированные отчеты о проектах
- **Презентации**: Визуальные презентации для клиентов

## Поддержка

При создании шаблонов учитывайте:
- WeasyPrint ограничения (не все CSS свойства поддерживаются)
- PDF специфика (фиксированные размеры, отсутствие интерактивности)
- Производительность (большие файлы могут долго генерироваться)